<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Spread</title>
    <meta name="description" content="A collection of components that make it easy to build interactive charts with D3.">

    <script src="https://d3fc.io/scripts.js"></script>

    <link rel="icon" type="image/png" href="https://d3fc.io/images/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="https://d3fc.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://d3fc.io/images/favicon-96x96.png" sizes="96x96">
    <link rel="stylesheet" href="https://d3fc.io/styles.css" />
    <link rel="canonical" href="https://d3fc.io/components/data/spread.html" />
  </head>
  <body>
    <div class="content">

      <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
              <a href="https://d3fc.io/"><img class="navbar-logo" alt="d3fc" src="https://d3fc.io/images/logo.svg" /></a>
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li class=""><a href="https://d3fc.io/components/introduction/getting-started.html">Documentation</a></li>
                <li class="active"><a href="https://d3fc.io/components/chart/cartesian.html">Components</a></li>
                <li class=""><a href="https://d3fc.io/components/series/candlestick.html">Financial</a></li>
                <li class=""><a href="https://d3fc.io/examples">Examples</a></li>
                <li><a href="https://github.com/ScottLogic/d3fc">GitHub</a></li>
              </ul>
            </div>
        </div>
      </nav>

      <div class="container component">
  <div class="row">

    <div class="col-sm-9 col-xs-12">
      <h1>
        Spread
        <a class="btn btn-default" href="https://github.com/ScottLogic/d3fc/blob/master/src/data/spread.js">View source</a>
      </h1>
      <p>This spread component is primarily used for manipulating data obtained via <code>d3.csv</code> into a suitable form for rendering with the <a href="/components/series/stacked.html">stacked</a>, <a href="/components/series/grouped-bar.html">grouped bar</a> or <a href="/components/chart/small-multiples.html">small multiples</a> components.</p>
<p>When data is loaded via <code>d3.csv</code>, it is converted into an array of objects, one per row, with properties names derived from the CSV &#39;column&#39; headings. The <code>spread</code> component converts the data into an array of series, either one for each column (vertical spread), or one per row (horizontal spead). The column that identifies the name for each series is identified via the <code>xValueKey</code> property.</p>
<p>The following example demonstrates a vertical spread (the default spread orientation):</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> data = [
  {<span class="hljs-string">'State'</span>: <span class="hljs-string">'AL'</span>, <span class="hljs-string">'Under 5 Years'</span>: <span class="hljs-string">'310'</span>, <span class="hljs-string">'5 to 13 Years'</span>: <span class="hljs-string">'552'</span>, <span class="hljs-string">'14 to 17 Years'</span>: <span class="hljs-string">'259'</span>, <span class="hljs-string">'18 to 24 Years'</span>: <span class="hljs-string">'450'</span>, <span class="hljs-string">'25 to 44 Years'</span>: <span class="hljs-string">'1215'</span>, <span class="hljs-string">'45 to 64 Years'</span>: <span class="hljs-string">'641'</span>},
  {<span class="hljs-string">'State'</span>: <span class="hljs-string">'AK'</span>, <span class="hljs-string">'Under 5 Years'</span>: <span class="hljs-string">'52'</span>, <span class="hljs-string">'5 to 13 Years'</span>: <span class="hljs-string">'85'</span>, <span class="hljs-string">'14 to 17 Years'</span>: <span class="hljs-string">'42'</span>, <span class="hljs-string">'18 to 24 Years'</span>: <span class="hljs-string">'74'</span>, <span class="hljs-string">'25 to 44 Years'</span>: <span class="hljs-string">'183'</span>, <span class="hljs-string">'45 to 64 Years'</span>: <span class="hljs-string">'50'</span>},
  {<span class="hljs-string">'State'</span>: <span class="hljs-string">'AZ'</span>, <span class="hljs-string">'Under 5 Years'</span>: <span class="hljs-string">'515'</span>, <span class="hljs-string">'5 to 13 Years'</span>: <span class="hljs-string">'828'</span>, <span class="hljs-string">'14 to 17 Years'</span>: <span class="hljs-string">'362'</span>, <span class="hljs-string">'18 to 24 Years'</span>: <span class="hljs-string">'601'</span>, <span class="hljs-string">'25 to 44 Years'</span>: <span class="hljs-string">'1804'</span>, <span class="hljs-string">'45 to 64 Years'</span>: <span class="hljs-string">'1523'</span>}
];

<span class="hljs-keyword">var</span> spread = fc.data.spread()
    .xValueKey(<span class="hljs-string">'State'</span>);

<span class="hljs-keyword">var</span> series = spread(data);

d3.<span class="hljs-keyword">select</span>(<span class="hljs-string">'#spread-vertical'</span>)
    .text(JSON.stringify(series, <span class="hljs-keyword">null</span>, <span class="hljs-number">2</span>));
</code></pre>
<p>Which results in the following:</p>
<div class="codepen-link">
  <form action="https://codepen.io/pen/define" method="POST" target="_blank">
    <input type="text" name="data" hidden="true"
      value='{
        "html":"&lt;pre id&#x3D;\&quot;spread-vertical\&quot;&gt;&lt;/pre&gt;\n",
        "js": "var data = [\n  {\"State\": \"AL\", \"Under 5 Years\": \"310\", \"5 to 13 Years\": \"552\", \"14 to 17 Years\": \"259\", \"18 to 24 Years\": \"450\", \"25 to 44 Years\": \"1215\", \"45 to 64 Years\": \"641\"},\n  {\"State\": \"AK\", \"Under 5 Years\": \"52\", \"5 to 13 Years\": \"85\", \"14 to 17 Years\": \"42\", \"18 to 24 Years\": \"74\", \"25 to 44 Years\": \"183\", \"45 to 64 Years\": \"50\"},\n  {\"State\": \"AZ\", \"Under 5 Years\": \"515\", \"5 to 13 Years\": \"828\", \"14 to 17 Years\": \"362\", \"18 to 24 Years\": \"601\", \"25 to 44 Years\": \"1804\", \"45 to 64 Years\": \"1523\"}\n];\n\nvar spread = fc.data.spread()\n    .xValueKey(\"State\");\n\nvar series = spread(data);\n\nd3.select(\"#spread-vertical\")\n    .text(JSON.stringify(series, null, 2));\n",
        "css": ".chart {\n    margin: 10px 0;\n    width: 100%;\n    height: 250px;\n}\n\n.chart&gt;svg {\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.chart.large {\n    height: 400px;\n}\n",
        "js_external": "https://d3fc.io/d3fc.bundle.js",
        "css_external": "https://d3fc.io/d3fc.css"}
      '/>
    <input type="submit" class="btn btn-default" value="Codepen"/>
  </form>
</div>


<pre id='spread-vertical'></pre>

<script type="text/javascript">
var data = [
  {'State': 'AL', 'Under 5 Years': '310', '5 to 13 Years': '552', '14 to 17 Years': '259', '18 to 24 Years': '450', '25 to 44 Years': '1215', '45 to 64 Years': '641'},
  {'State': 'AK', 'Under 5 Years': '52', '5 to 13 Years': '85', '14 to 17 Years': '42', '18 to 24 Years': '74', '25 to 44 Years': '183', '45 to 64 Years': '50'},
  {'State': 'AZ', 'Under 5 Years': '515', '5 to 13 Years': '828', '14 to 17 Years': '362', '18 to 24 Years': '601', '25 to 44 Years': '1804', '45 to 64 Years': '1523'}
];

var spread = fc.data.spread()
    .xValueKey('State');

var series = spread(data);

d3.select('#spread-vertical')
    .text(JSON.stringify(series, null, 2));

</script>

<p>And here is the same data with a horizontal spread applied:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> data = [
  {<span class="hljs-string">'State'</span>: <span class="hljs-string">'AL'</span>, <span class="hljs-string">'Under 5 Years'</span>: <span class="hljs-string">'310'</span>, <span class="hljs-string">'5 to 13 Years'</span>: <span class="hljs-string">'552'</span>, <span class="hljs-string">'14 to 17 Years'</span>: <span class="hljs-string">'259'</span>, <span class="hljs-string">'18 to 24 Years'</span>: <span class="hljs-string">'450'</span>, <span class="hljs-string">'25 to 44 Years'</span>: <span class="hljs-string">'1215'</span>, <span class="hljs-string">'45 to 64 Years'</span>: <span class="hljs-string">'641'</span>},
  {<span class="hljs-string">'State'</span>: <span class="hljs-string">'AK'</span>, <span class="hljs-string">'Under 5 Years'</span>: <span class="hljs-string">'52'</span>, <span class="hljs-string">'5 to 13 Years'</span>: <span class="hljs-string">'85'</span>, <span class="hljs-string">'14 to 17 Years'</span>: <span class="hljs-string">'42'</span>, <span class="hljs-string">'18 to 24 Years'</span>: <span class="hljs-string">'74'</span>, <span class="hljs-string">'25 to 44 Years'</span>: <span class="hljs-string">'183'</span>, <span class="hljs-string">'45 to 64 Years'</span>: <span class="hljs-string">'50'</span>},
  {<span class="hljs-string">'State'</span>: <span class="hljs-string">'AZ'</span>, <span class="hljs-string">'Under 5 Years'</span>: <span class="hljs-string">'515'</span>, <span class="hljs-string">'5 to 13 Years'</span>: <span class="hljs-string">'828'</span>, <span class="hljs-string">'14 to 17 Years'</span>: <span class="hljs-string">'362'</span>, <span class="hljs-string">'18 to 24 Years'</span>: <span class="hljs-string">'601'</span>, <span class="hljs-string">'25 to 44 Years'</span>: <span class="hljs-string">'1804'</span>, <span class="hljs-string">'45 to 64 Years'</span>: <span class="hljs-string">'1523'</span>}
];

<span class="hljs-keyword">var</span> spread = fc.data.spread()
    .orient(<span class="hljs-string">'horizontal'</span>)
    .xValueKey(<span class="hljs-string">'State'</span>);

<span class="hljs-keyword">var</span> series = spread(data);

d3.<span class="hljs-keyword">select</span>(<span class="hljs-string">'#spread-horizontal'</span>)
    .text(JSON.stringify(series,  <span class="hljs-keyword">null</span>, <span class="hljs-number">2</span>));
</code></pre>
<p>Which results in the following:</p>
<div class="codepen-link">
  <form action="https://codepen.io/pen/define" method="POST" target="_blank">
    <input type="text" name="data" hidden="true"
      value='{
        "html":"&lt;pre id&#x3D;\&quot;spread-horizontal\&quot;&gt;&lt;/pre&gt;\n",
        "js": "var data = [\n  {\"State\": \"AL\", \"Under 5 Years\": \"310\", \"5 to 13 Years\": \"552\", \"14 to 17 Years\": \"259\", \"18 to 24 Years\": \"450\", \"25 to 44 Years\": \"1215\", \"45 to 64 Years\": \"641\"},\n  {\"State\": \"AK\", \"Under 5 Years\": \"52\", \"5 to 13 Years\": \"85\", \"14 to 17 Years\": \"42\", \"18 to 24 Years\": \"74\", \"25 to 44 Years\": \"183\", \"45 to 64 Years\": \"50\"},\n  {\"State\": \"AZ\", \"Under 5 Years\": \"515\", \"5 to 13 Years\": \"828\", \"14 to 17 Years\": \"362\", \"18 to 24 Years\": \"601\", \"25 to 44 Years\": \"1804\", \"45 to 64 Years\": \"1523\"}\n];\n\nvar spread = fc.data.spread()\n    .orient(\"horizontal\")\n    .xValueKey(\"State\");\n\nvar series = spread(data);\n\nd3.select(\"#spread-horizontal\")\n    .text(JSON.stringify(series,  null, 2));\n",
        "css": ".chart {\n    margin: 10px 0;\n    width: 100%;\n    height: 250px;\n}\n\n.chart&gt;svg {\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.chart.large {\n    height: 400px;\n}\n",
        "js_external": "https://d3fc.io/d3fc.bundle.js",
        "css_external": "https://d3fc.io/d3fc.css"}
      '/>
    <input type="submit" class="btn btn-default" value="Codepen"/>
  </form>
</div>


<pre id='spread-horizontal'></pre>

<script type="text/javascript">
var data = [
  {'State': 'AL', 'Under 5 Years': '310', '5 to 13 Years': '552', '14 to 17 Years': '259', '18 to 24 Years': '450', '25 to 44 Years': '1215', '45 to 64 Years': '641'},
  {'State': 'AK', 'Under 5 Years': '52', '5 to 13 Years': '85', '14 to 17 Years': '42', '18 to 24 Years': '74', '25 to 44 Years': '183', '45 to 64 Years': '50'},
  {'State': 'AZ', 'Under 5 Years': '515', '5 to 13 Years': '828', '14 to 17 Years': '362', '18 to 24 Years': '601', '25 to 44 Years': '1804', '45 to 64 Years': '1523'}
];

var spread = fc.data.spread()
    .orient('horizontal')
    .xValueKey('State');

var series = spread(data);

d3.select('#spread-horizontal')
    .text(JSON.stringify(series,  null, 2));

</script>


      <nav class="visible-xs-block">
        <ul class="pager">
            <li class="previous"><a href="/components/annotation/line.html"><span aria-hidden="true">&larr;</span> Line</a></li>
            <li class="next"><a href="/components/data/walk.html">Random Walk <span aria-hidden="true">&rarr;</span></a></li>
        </ul>
      </nav>
    </div>

    <nav class="col-sm-3 hidden-xs">
      <ul class="nav nav-stacked fixed nav-sidebar">
          <li>
            <h4>Chart</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/chart/cartesian.html">
                    Cartesian
                  </a>
                </li>
                <li class="">
                  <a href="/components/chart/legend.html">
                    Legend
                  </a>
                </li>
                <li class="">
                  <a href="/components/chart/small-multiples.html">
                    Small Multiples
                  </a>
                </li>
                <li class="">
                  <a href="/components/chart/sparkline.html">
                    Sparkline
                  </a>
                </li>
                <li class="">
                  <a href="/components/chart/tooltip.html">
                    Tooltip
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Series</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/series/area.html">
                    Area Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/bar.html">
                    Bar Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/boxPlot.html">
                    Box Plot Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/cycle.html">
                    Cycle Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/errorBar.html">
                    Error Bar Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/grouped-bar.html">
                    Grouped Bar Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/line.html">
                    Line Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/multi.html">
                    Multi Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/point.html">
                    Point Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/stacked.html">
                    Stacked Series
                  </a>
                </li>
                <li class="">
                  <a href="/components/series/waterfall.html">
                    Waterfall Series
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Annotation</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/annotation/band.html">
                    Band
                  </a>
                </li>
                <li class="">
                  <a href="/components/annotation/gridlines.html">
                    Gridlines
                  </a>
                </li>
                <li class="">
                  <a href="/components/annotation/line.html">
                    Line
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Data</h4>
            <ul class="nav nav-stacked">
                <li class="active">
                  <a href="/components/data/spread.html">
                    Spread
                  </a>
                </li>
                <li class="">
                  <a href="/components/data/walk.html">
                    Random Walk
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Layout</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/layout/flexbox.html">
                    Flexbox
                  </a>
                </li>
                <li class="">
                  <a href="/components/layout/rectangles.html">
                    Rectangles
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Samplers</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/sampler/largestTriangleOne.html">
                    Largest Triangle 1 Bucket
                  </a>
                </li>
                <li class="">
                  <a href="/components/sampler/largestTriangleThreeBucket.html">
                    Largest Triangle 3 Buckets
                  </a>
                </li>
                <li class="">
                  <a href="/components/sampler/modeMedian.html">
                    Mode Median
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Scale</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/scale/dateTime.html">
                    Date Time Scale
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>SVG</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/svg/axis.html">
                    Axis
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Tool</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/tool/container.html">
                    Container
                  </a>
                </li>
                <li class="">
                  <a href="/components/tool/crosshair.html">
                    Crosshair
                  </a>
                </li>
            </ul>
          </li>
          <li>
            <h4>Util</h4>
            <ul class="nav nav-stacked">
                <li class="">
                  <a href="/components/util/extent.html">
                    Extent
                  </a>
                </li>
            </ul>
          </li>
      </ul>
    </nav>

  </div>
</div>


    </div>
    <footer>
      <div class="container">
        <p class="muted credit text-center">Project supported by <a href="http://www.scottlogic.com">Scott Logic</a>.</p>
        <p class="muted credit text-center">Browser testing provided by <a class="browserstack" href="https://browserstack.com">BrowserStack</a>.</p>
      </div>
    </footer>

  </body>
</html>
