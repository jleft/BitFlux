<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>d3fc</title>
    <meta name="description" content="A collection of components that make it easy to build interactive charts with D3.">

    <script src="https://d3fc.io/scripts.js"></script>

    <link rel="icon" type="image/png" href="https://d3fc.io/images/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="https://d3fc.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://d3fc.io/images/favicon-96x96.png" sizes="96x96">
    <link rel="stylesheet" href="https://d3fc.io/styles.css" />
    <link rel="canonical" href="https://d3fc.io/index.html" />
  </head>
  <body>
    <div class="content">

      <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
              <a href="https://d3fc.io/"><img class="navbar-logo" alt="d3fc" src="https://d3fc.io/images/logo.svg" /></a>
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              </div>
            <div class="navbar-collapse collapse">
              <ul class="nav navbar-nav navbar-right">
                <li class=""><a href="https://d3fc.io/components/introduction/getting-started.html">Documentation</a></li>
                <li class=""><a href="https://d3fc.io/components/chart/cartesian.html">Components</a></li>
                <li class=""><a href="https://d3fc.io/components/series/candlestick.html">Financial</a></li>
                <li class=""><a href="https://d3fc.io/examples">Examples</a></li>
                <li><a href="https://github.com/ScottLogic/d3fc">GitHub</a></li>
              </ul>
            </div>
        </div>
      </nav>

      <div class="jumbotron text-center" id="jumbo1">
  <img alt="d3fc" src="https://d3fc.io/images/logo.svg" />
  <p>A collection of components that make it easy to build interactive charts with D3.</p>
  <a class="jumbotron-btn" href="https://github.com/ScottLogic/d3fc">View on GitHub</a>
</div>

<div class="top-chart container">
  <div class="row">
    <div class="col-md-6">
      <style>
      .bar path {
  stroke-width: 0;
}
.title text {
    font-size: 15pt;
}

      </style>
      <div id='stacked-chart'  class='chart large'></div>

      <script>
      function renderStacked() {
        d3.csv('https://d3fc.io/examples/stacked/data.csv', function(error, data) {
    // manipulate the data into stacked series
    var spread = fc.data.spread()
        .xValueKey('Country');
    var stackLayout = d3.layout.stack()
        .values(function(d) { return d.values; });

    var series = stackLayout(spread(data));

    var color = d3.scale.category20()
      .domain(series.map(function(s) { return s.key; }));

    var yExtent = fc.util.extent()
        .include(0)
        .fields(function(d) { return d.y + d.y0; });

    var legend = d3.legend.color()
      .orient('horizontal')
      .shapeWidth(70)
      .scale(color);

    var stack = fc.series.stacked.bar()
        .orient('horizontal')
        .yValue(function(d) { return d.x; })
        .xValue(function(d) { return d.y0 + d.y; })
        .x0Value(function(d) { return d.y0; })
        .decorate(function(sel, _, index) {
            sel.enter().attr('fill', color(series[index].key));
        });

    var chart = fc.chart.cartesian(
                      d3.scale.linear(),
                      d3.scale.ordinal())
            .xDomain(yExtent(series.map(function(d) { return d.values; })))
            .yDomain(data.map(function(d) { return d.Country; }))
            .xLabel('(million tonnes of oil equivalent)')
            .xNice()
            .chartLabel('2013 Energy Production')
            .yOrient('left')
            .yTickSize(0)
            .margin({left: 100, bottom: 40, right: 10, top: 30})
            .plotArea(stack)
            .decorate(function(selection) {
                // add a container for the legend
                selection.enter()
                    .append('g')
                    .classed('legend-container', true)
                    .layout({
                        position: 'absolute',
                        right: 10,
                        top: 40,
                        width: 358,
                        height: 36
                    });

                // compute layout from the parent SVG
                selection.enter().layout();

                // render the legend
                selection.select('g.legend-container')
                  .style('display', function() {
                      // magic number because the legend accessors return
                      // the legend itself instead of the values (susielu/d3-legend#23)
                      var availableWidth = selection.select('.plot-area').layout('width');
                      return availableWidth > (75 + 5) * data.length ? '' : 'none';
                  })
                  .call(legend);
            });

    // render
    d3.select('#stacked-chart')
        .datum(series)
        .call(chart);
});

      }
      </script>
    </div>
    <div class="col-md-6">
      <style>
      .point path {
    stroke-width: 0;
}
.title text {
    font-size: 15pt;
}

      </style>
      <div id='bubble-chart' class='chart large'></div>

      <script>
      function renderBubble() {
        d3.json('https://d3fc.io/examples/bubble/data.json', function(error, data) {
    // convert string properties to numbers
    data.forEach(function(d) {
        d.income = Number(d.income);
        d.population = Number(d.population);
        d.lifeExpectancy = Number(d.lifeExpectancy);
    });

    var regions = d3.set(data.map(function(d) { return d.region; }));
    var color = d3.scale.category10()
        .domain(regions.values());

    var legend = d3.legend.color()
        .scale(color);

    var size = d3.scale.linear()
        .range([20, 800])
        .domain(fc.util.extent().fields('population')(data));

    var pointSeries = fc.series.point()
        .xValue(function(d) { return d.income; })
        .yValue(function(d) { return d.lifeExpectancy; })
        .size(function(d) { return size(d.population); })
        .decorate(function(sel) {
            sel.enter()
                .attr('fill', function(d) { return color(d.region); });
        });

    var chart = fc.chart.cartesian(
                  d3.scale.log(),
                  d3.scale.linear())
        .xDomain(fc.util.extent().fields('income')(data))
        .yDomain(fc.util.extent().pad(0.2).fields('lifeExpectancy')(data))
        .xLabel('Income (dollars)')
        .yLabel('Life expectancy (years)')
        .xTicks(2, d3.format(',d'))
        .chartLabel('The Wealth & Health of Nations')
        .yOrient('left')
        .margin({left: 40, bottom: 40, top: 30})
        .plotArea(pointSeries)
        .decorate(function(selection) {
            selection.enter()
                .append('g')
                .classed('legend-container', true)
                .layout({
                    position: 'absolute',
                    right: 10,
                    bottom: 50,
                    width: 165,
                    height: 100
                });

            // compute layout from the parent SVG
            selection.enter().layout();

            // render the legend
            selection.select('g.legend-container').call(legend);
        });

    d3.select('#bubble-chart')
        .datum(data)
        .call(chart);
});

      }
      </script>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <style>
      .area {
  fill-opacity: 0.5;
}
.title text {
    font-size: 15pt;
}

      </style>
      <div id='simple-chart' class='chart large'></div>

      <script>
      function renderSimple() {
        // create some test data
var data = d3.range(50).map(function(d) {
    return {
        x: d / 4,
        y: Math.sin(d / 4),
        z: Math.cos(d / 4) * 0.7
    };
});

// create a chart
var chart = fc.chart.cartesian(
              d3.scale.linear(),
              d3.scale.linear())
          .yDomain(fc.util.extent().pad(0.2).fields(['y', 'z'])(data))
          .yLabel('Sine / Cosine')
          .yNice()
          .yOrient('left')
          .xDomain(fc.util.extent().fields('x')(data))
          .xLabel('Value')
          .xBaseline(0)
          .chartLabel('Sine/Cosine Line/Area Chart')
          .margin({left: 50, bottom: 20, top: 30});

// create a pair of series and some gridlines
var sinLine = fc.series.line()
  .xValue(function(d) { return d.x; })
  .yValue(function(d) { return d.y; });

var cosLine = fc.series.area()
  .xValue(function(d) { return d.x; })
  .yValue(function(d) { return d.z; });

var gridlines = fc.annotation.gridline();

// combine using a multi-series
var multi = fc.series.multi()
  .series([gridlines, sinLine, cosLine]);

chart.plotArea(multi);

// render
d3.select('#simple-chart')
    .datum(data)
    .call(chart);

      }
      </script>
    </div>
    <div class="col-md-6">
      <style>
      .title text {
    font-size: 15pt;
}

      </style>
      <div id='streaming-chart' class='chart large'></div>

      <script>
      function renderStreaming() {
        // create some test data
var stream = fc.data.random.financial().stream();
var data = stream.take(110);

function renderChart() {
    // add a new datapoint and remove an old one
    data.push(stream.next());
    data.shift();

    // compute the bollinger bands
    var bollingerAlgorithm = fc.indicator.algorithm.bollingerBands();
    bollingerAlgorithm(data);

    // Offset the range to include the full bar for the latest value
    var DAY_MS = 1000 * 60 * 60 * 24;
    var xExtent = fc.util.extent()
        .fields('date')
        .padUnit('domain')
        .pad([DAY_MS * -bollingerAlgorithm.windowSize()(data), DAY_MS]);

    // ensure y extent includes the bollinger bands
    var yExtent = fc.util.extent().fields([
        function(d) { return d.bollingerBands.upper; },
        function(d) { return d.bollingerBands.lower; }
    ]);

    // create a chart
    var chart = fc.chart.cartesian(
        fc.scale.dateTime(),
        d3.scale.linear()
      )
     .xDomain(xExtent(data))
     .yDomain(yExtent(data))
     .yNice()
     .chartLabel('Streaming Candlestick')
     .margin({left: 30, right: 30, bottom: 20, top: 30});

    // obtain ticks from the underlying scales
    var xTicks = chart.xScaleTicks(10);
    var yTicks = chart.yScaleTicks(10);

    // render a reduced number of ticks on each axis
    chart.xTickValues(xTicks.filter(function(d) { return d.getDate() % 2 === 0; }))
        .yTickValues(yTicks.filter(function(d, i) { return i % 2 === 0; }));

    // Create the gridlines and series
    var gridlines = fc.annotation.gridline()
        .xTickValues(xTicks)
        .yTickValues(yTicks);
    var candlestick = fc.series.candlestick();
    var bollingerBands = fc.indicator.renderer.bollingerBands();

    // add them to the chart via a multi-series
    var multi = fc.series.multi()
     .series([gridlines, bollingerBands, candlestick]);
    chart.plotArea(multi);

    d3.select('#streaming-chart')
     .datum(data)
     .call(chart);
}

// re-render the chart every 200ms
renderChart();
var intervalId = setInterval(renderChart, 200);

        return intervalId;
      }
      </script>
    </div>
  </div>
</div>

<script>
  var intervalId;
  function renderExamples() {
    renderStacked();
    renderBubble();
    renderSimple();
    if (intervalId) {
      window.clearInterval(intervalId);
    }
    intervalId = renderStreaming();
  }
  window.onresize = fc.util.render(renderExamples);
  renderExamples();
</script>

<div id="quick-start" class="quick-start">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h1 class="text-center">QUICK START</h1>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-3 ">
        <h3>Install</h3>
        <p>A complete set of instructions for obtaining d3fc and its dependencies via npm or cdnjs are available in the <a href="/components/introduction/getting-started.html">Getting Started Guide</a>.</p>
      </div>
      <div class="col-sm-3 ">
        <h3>Learn</h3>
        <p>Follow the tutorial on <a href="/components/introduction/building-a-chart.html">Building a Chart</a> to learn the concepts and principles behind d3fc. You can mix and match d3fc components with any D3 code you may require to produce your chart.</p>
      </div>
      <div class="col-sm-3 ">
        <h3>Customise</h3>
        <p>The components are customised via CSS, allowing you to change colors, stroke, fill and layout. However for deeper customisation all the components support the <a href="/components/introduction/decorate-pattern.html">decorate pattern</a>.</p>
      </div>
      <div class="col-sm-3 ">
        <h3>Contribute</h3>
        <p>Spotted a bug? Have an idea for a feature? Please <a href="https://github.com/ScottLogic/d3fc">pop over to GitHub and contribute</a>. If you want to contribute a new component, please read
        over <a href="/components/introduction/component-design.html">this page which describes the design goals</a>.</p>
      </div>
    </div>
  </div>
</div>


    </div>
    <footer>
      <div class="container">
        <p class="muted credit text-center">Project supported by <a href="http://www.scottlogic.com">Scott Logic</a>.</p>
        <p class="muted credit text-center">Browser testing provided by <a class="browserstack" href="https://browserstack.com">BrowserStack</a>.</p>
      </div>
    </footer>

  </body>
</html>
